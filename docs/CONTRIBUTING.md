# è´¡çŒ®æŒ‡å—

æ„Ÿè°¢æ‚¨æœ‰å…´è¶£ä¸º CrustShare åšè´¡çŒ®ï¼

## ç›®å½•

- [è¡Œä¸ºå‡†åˆ™](#è¡Œä¸ºå‡†åˆ™)
- [å¦‚ä½•è´¡çŒ®](#å¦‚ä½•è´¡çŒ®)
- [å¼€å‘ç¯å¢ƒè®¾ç½®](#å¼€å‘ç¯å¢ƒè®¾ç½®)
- [å¼€å‘è§„èŒƒ](#å¼€å‘è§„èŒƒ)
- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
- [æœ¬åœ°å¼€å‘](#æœ¬åœ°å¼€å‘)
- [æäº¤è§„èŒƒ](#æäº¤è§„èŒƒ)
- [Pull Request æµç¨‹](#pull-request-æµç¨‹)
- [è®¸å¯è¯](#è®¸å¯è¯)

---

## è¡Œä¸ºå‡†åˆ™

æœ¬é¡¹ç›®é‡‡ç”¨è´¡çŒ®è€…å…¬çº¦ä½œä¸ºè¡Œä¸ºå‡†åˆ™ã€‚å‚ä¸æ­¤é¡¹ç›®å³è¡¨ç¤ºæ‚¨åŒæ„éµå®ˆå…¶æ¡æ¬¾ã€‚

---

## å¦‚ä½•è´¡çŒ®

### æŠ¥å‘Šé—®é¢˜

å¦‚æœæ‚¨å‘ç°äº† bug æˆ–æœ‰åŠŸèƒ½å»ºè®®ï¼š

1. åœ¨ [Issues](https://github.com/SpiritoXI/CrustShare/issues) é¡µé¢æœç´¢æ˜¯å¦å·²æœ‰ç›¸å…³é—®é¢˜
2. å¦‚æœæ²¡æœ‰ï¼Œåˆ›å»ºæ–°çš„ Issueï¼Œä½¿ç”¨ä»¥ä¸‹æ¨¡æ¿ï¼š

**Bug æŠ¥å‘Šæ¨¡æ¿ï¼š**

```markdown
## æè¿°
ç®€è¦æè¿°é—®é¢˜

## å¤ç°æ­¥éª¤
1. æ‰§è¡Œ '...'
2. ç‚¹å‡» '...'
3. æ»šåŠ¨åˆ° '...'
4. çœ‹åˆ°é”™è¯¯

## æœŸæœ›è¡Œä¸º
æè¿°æ‚¨æœŸæœ›å‘ç”Ÿçš„æƒ…å†µ

## å®é™…è¡Œä¸º
æè¿°å®é™…å‘ç”Ÿçš„æƒ…å†µ

## æˆªå›¾
å¦‚æœé€‚ç”¨ï¼Œæ·»åŠ æˆªå›¾å¸®åŠ©è§£é‡Šé—®é¢˜

## ç¯å¢ƒ
- OS: [ä¾‹å¦‚ Windows 11]
- Browser: [ä¾‹å¦‚ Chrome 120]
- Node.js: [ä¾‹å¦‚ 18.19.0]
- é¡¹ç›®ç‰ˆæœ¬: [ä¾‹å¦‚ 3.2.0]
```

**åŠŸèƒ½å»ºè®®æ¨¡æ¿ï¼š**

```markdown
## åŠŸèƒ½æè¿°
æ¸…æ™°ç®€æ´åœ°æè¿°æ‚¨å¸Œæœ›æ·»åŠ çš„åŠŸèƒ½

## é—®é¢˜èƒŒæ™¯
æè¿°è¿™ä¸ªåŠŸèƒ½è¦è§£å†³ä»€ä¹ˆé—®é¢˜

## å»ºè®®æ–¹æ¡ˆ
æè¿°æ‚¨å»ºè®®çš„è§£å†³æ–¹æ¡ˆ

## æ›¿ä»£æ–¹æ¡ˆ
æè¿°æ‚¨è€ƒè™‘è¿‡çš„å…¶ä»–è§£å†³æ–¹æ¡ˆ

## é™„åŠ ä¿¡æ¯
åœ¨æ­¤æ·»åŠ å…³äºåŠŸèƒ½è¯·æ±‚çš„å…¶ä»–ä¿¡æ¯
```

---

## å¼€å‘ç¯å¢ƒè®¾ç½®

### ç³»ç»Ÿè¦æ±‚

| è½¯ä»¶ | ç‰ˆæœ¬è¦æ±‚ | è¯´æ˜ |
|------|----------|------|
| Node.js | >= 18.0.0 | æ¨èä½¿ç”¨ LTS ç‰ˆæœ¬ |
| pnpm | >= 8.0.0 | æ¨èä½¿ç”¨ pnpm |
| Git | >= 2.0.0 | ç‰ˆæœ¬æ§åˆ¶ |

### æ¨èå·¥å…·

| å·¥å…· | ç”¨é€” |
|------|------|
| VS Code | ä»£ç ç¼–è¾‘å™¨ |
| Chrome DevTools | è°ƒè¯• |
| Postman | API æµ‹è¯• |

### VS Code æ¨èæ‰©å±•

```json
{
  "recommendations": [
    "dbaeumer.vscode-eslint",
    "esbenp.prettier-vscode",
    "bradlc.vscode-tailwindcss",
    "ms-vscode.vscode-typescript-next"
  ]
}
```

### å…‹éš†ä¸å®‰è£…

```bash
# 1. Fork ä»“åº“åˆ°æ‚¨çš„ GitHub è´¦æˆ·

# 2. å…‹éš†æ‚¨çš„ Fork
git clone https://github.com/YOUR_USERNAME/CrustShare.git
cd CrustShare

# 3. æ·»åŠ ä¸Šæ¸¸ä»“åº“
git remote add upstream https://github.com/SpiritoXI/CrustShare.git

# 4. å®‰è£…ä¾èµ–
pnpm install

# 5. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env.local
# ç¼–è¾‘ .env.local å¡«å…¥å¿…è¦çš„é…ç½®

# 6. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev
```

---

## å¼€å‘è§„èŒƒ

### ä»£ç é£æ ¼

#### TypeScript è§„èŒƒ

```typescript
// ä½¿ç”¨ interface å®šä¹‰å¯¹è±¡ç±»å‹
interface User {
  id: string;
  name: string;
  email: string;
}

// ä½¿ç”¨ type å®šä¹‰è”åˆç±»å‹æˆ–å·¥å…·ç±»å‹
type Status = 'pending' | 'active' | 'completed';

// ä½¿ç”¨ const æ–­è¨€å®šä¹‰å¸¸é‡
const ROUTES = {
  HOME: '/',
  DASHBOARD: '/dashboard',
} as const;

// ä¼˜å…ˆä½¿ç”¨å‘½åå¯¼å‡º
export function formatDate(date: Date): string {
  return date.toISOString();
}

// ä½¿ç”¨ç®­å¤´å‡½æ•°ä½œä¸ºå›è°ƒ
const filtered = items.filter((item) => item.active);
```

#### React ç»„ä»¶è§„èŒƒ

```tsx
// ç»„ä»¶å‘½åï¼šPascalCase
// æ–‡ä»¶å‘½åï¼škebab-case

// å‡½æ•°ç»„ä»¶ç»“æ„
interface ButtonProps {
  variant?: 'primary' | 'secondary';
  children: React.ReactNode;
  onClick?: () => void;
}

export function Button({ 
  variant = 'primary', 
  children, 
  onClick 
}: ButtonProps) {
  return (
    <button
      className={cn(
        'base-styles',
        variant === 'primary' && 'primary-styles',
        variant === 'secondary' && 'secondary-styles'
      )}
      onClick={onClick}
    >
      {children}
    </button>
  );
}
```

#### CSS è§„èŒƒ

```tsx
// ä½¿ç”¨ Tailwind CSS ç±»å
// ä½¿ç”¨ cn() å‡½æ•°åˆå¹¶ç±»å
import { cn } from '@/lib/utils';

<div className={cn(
  'flex items-center gap-2',
  isActive && 'bg-primary',
  className
)}>
```

### ç›®å½•è§„èŒƒ

```
components/
â”œâ”€â”€ ui/              # åŸºç¡€ UI ç»„ä»¶ï¼ˆshadcn/uiï¼‰
â”œâ”€â”€ dashboard/       # ä»ªè¡¨æ¿ä¸“ç”¨ç»„ä»¶
â”œâ”€â”€ modals/          # å¼¹çª—ç»„ä»¶
â””â”€â”€ share/           # åˆ†äº«é¡µé¢ç»„ä»¶

hooks/
â”œâ”€â”€ use-dashboard.ts    # ä»ªè¡¨æ¿æ ¸å¿ƒé€»è¾‘
â”œâ”€â”€ use-upload.ts       # ä¸Šä¼ é€»è¾‘
â””â”€â”€ index.ts            # ç»Ÿä¸€å¯¼å‡º

lib/
â”œâ”€â”€ api/             # API æ¨¡å—
â”œâ”€â”€ config.ts        # é…ç½®å¸¸é‡
â”œâ”€â”€ utils.ts         # å·¥å…·å‡½æ•°
â””â”€â”€ store.ts         # çŠ¶æ€ç®¡ç†
```

### å‘½åè§„èŒƒ

| ç±»å‹ | è§„èŒƒ | ç¤ºä¾‹ |
|------|------|------|
| ç»„ä»¶ | PascalCase | `FileList`, `UploadButton` |
| æ–‡ä»¶ | kebab-case | `file-list.tsx`, `upload-button.tsx` |
| å‡½æ•° | camelCase | `formatDate`, `parseResponse` |
| å¸¸é‡ | UPPER_SNAKE_CASE | `MAX_FILE_SIZE`, `API_TIMEOUT` |
| ç±»å‹/æ¥å£ | PascalCase | `FileItem`, `UploadOptions` |
| CSS ç±» | kebab-case | `file-list-item`, `upload-progress` |

---

## é¡¹ç›®ç»“æ„

```
crustshare/
â”œâ”€â”€ app/                 # Next.js App Router
â”œâ”€â”€ components/          # React ç»„ä»¶
â”‚   â”œâ”€â”€ ui/             # åŸºç¡€ UI ç»„ä»¶
â”‚   â”œâ”€â”€ dashboard/      # ä»ªè¡¨æ¿ç»„ä»¶
â”‚   â”œâ”€â”€ modals/         # å¼¹çª—ç»„ä»¶
â”‚   â””â”€â”€ share/          # åˆ†äº«é¡µé¢ç»„ä»¶
â”œâ”€â”€ hooks/              # è‡ªå®šä¹‰ Hooks
â”œâ”€â”€ lib/                # æ ¸å¿ƒåº“å’Œå·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ api/           # API æ¨¡å—
â”‚   â”œâ”€â”€ config.ts      # é…ç½®
â”‚   â””â”€â”€ utils.ts       # å·¥å…·å‡½æ•°
â”œâ”€â”€ types/              # TypeScript ç±»å‹å®šä¹‰
â”œâ”€â”€ public/             # é™æ€èµ„æº
â””â”€â”€ docs/               # æ–‡æ¡£
```

---

## æœ¬åœ°å¼€å‘

### å¼€å‘å‘½ä»¤

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev

# ç±»å‹æ£€æŸ¥
pnpm typecheck

# ä»£ç æ£€æŸ¥
pnpm lint

# ä¿®å¤ä»£ç æ ¼å¼
pnpm lint --fix

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
pnpm start
```

### è°ƒè¯•æŠ€å·§

1. **ä½¿ç”¨ React DevTools**
   - å®‰è£… React Developer Tools æµè§ˆå™¨æ‰©å±•
   - æ£€æŸ¥ç»„ä»¶çŠ¶æ€å’Œ props

2. **ä½¿ç”¨ console è°ƒè¯•**
   ```typescript
   console.log('Debug:', { variable });
   console.table(arrayData);
   console.time('operation');
   // ... æ“ä½œ
   console.timeEnd('operation');
   ```

3. **ç½‘ç»œè¯·æ±‚è°ƒè¯•**
   - ä½¿ç”¨ Chrome DevTools Network é¢æ¿
   - æ£€æŸ¥è¯·æ±‚å’Œå“åº”

---

## æäº¤è§„èŒƒ

### æäº¤ä¿¡æ¯æ ¼å¼

æœ¬é¡¹ç›®é‡‡ç”¨ [Conventional Commits](https://www.conventionalcommits.org/) è§„èŒƒï¼š

```
<type>(<scope>): <subject>

<body>

<footer>
```

### ç±»å‹è¯´æ˜

| ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `feat` | æ–°åŠŸèƒ½ | `feat: æ·»åŠ æ–‡ä»¶é¢„è§ˆåŠŸèƒ½` |
| `fix` | ä¿®å¤ bug | `fix: ä¿®å¤ä¸Šä¼ è¿›åº¦æ˜¾ç¤ºé”™è¯¯` |
| `docs` | æ–‡æ¡£æ›´æ–° | `docs: æ›´æ–° API æ–‡æ¡£` |
| `style` | ä»£ç æ ¼å¼ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰| `style: æ ¼å¼åŒ–ä»£ç ` |
| `refactor` | é‡æ„ä»£ç  | `refactor: é‡æ„ä¸Šä¼ é€»è¾‘` |
| `perf` | æ€§èƒ½ä¼˜åŒ– | `perf: ä¼˜åŒ–åˆ—è¡¨æ¸²æŸ“æ€§èƒ½` |
| `test` | æµ‹è¯•ç›¸å…³ | `test: æ·»åŠ ä¸Šä¼ æµ‹è¯•` |
| `chore` | æ„å»º/å·¥å…·ç›¸å…³ | `chore: æ›´æ–°ä¾èµ–ç‰ˆæœ¬` |
| `ci` | CI é…ç½® | `ci: æ·»åŠ  GitHub Actions` |

### æäº¤ç¤ºä¾‹

```bash
# æ–°åŠŸèƒ½
git commit -m "feat(dashboard): æ·»åŠ æ‰¹é‡åˆ é™¤åŠŸèƒ½"

# ä¿®å¤ bug
git commit -m "fix(upload): ä¿®å¤å¤§æ–‡ä»¶ä¸Šä¼ è¶…æ—¶é—®é¢˜"

# æ–‡æ¡£æ›´æ–°
git commit -m "docs: æ›´æ–°éƒ¨ç½²æŒ‡å—"

# é‡æ„
git commit -m "refactor(hooks): æå–é€šç”¨ä¸Šä¼ é€»è¾‘"
```

---

## Pull Request æµç¨‹

### åˆ›å»º PR å‰æ£€æŸ¥æ¸…å•

- [ ] ä»£ç é€šè¿‡ `pnpm typecheck` ç±»å‹æ£€æŸ¥
- [ ] ä»£ç é€šè¿‡ `pnpm lint` ä»£ç æ£€æŸ¥
- [ ] ä»£ç é€šè¿‡ `pnpm build` æ„å»º
- [ ] æäº¤ä¿¡æ¯ç¬¦åˆè§„èŒƒ
- [ ] æ›´æ–°äº†ç›¸å…³æ–‡æ¡£

### PR æ­¥éª¤

1. **åŒæ­¥ä¸Šæ¸¸ä»£ç **

```bash
git fetch upstream
git checkout main
git merge upstream/main
```

2. **åˆ›å»ºåŠŸèƒ½åˆ†æ”¯**

```bash
git checkout -b feature/your-feature-name
```

3. **è¿›è¡Œä¿®æ”¹å¹¶æäº¤**

```bash
git add .
git commit -m "feat: æ·»åŠ æŸæŸåŠŸèƒ½"
```

4. **æ¨é€åˆ°æ‚¨çš„ Fork**

```bash
git push origin feature/your-feature-name
```

5. **åˆ›å»º Pull Request**
   - è®¿é—®æ‚¨çš„ Fork é¡µé¢
   - ç‚¹å‡» "New Pull Request"
   - å¡«å†™ PR æ¨¡æ¿

### PR æ¨¡æ¿

```markdown
## å˜æ›´ç±»å‹
- [ ] Bug ä¿®å¤
- [ ] æ–°åŠŸèƒ½
- [ ] é‡æ„
- [ ] æ–‡æ¡£æ›´æ–°
- [ ] å…¶ä»–

## å˜æ›´æè¿°
ç®€è¦æè¿°æ­¤ PR çš„å˜æ›´å†…å®¹

## ç›¸å…³ Issue
å…³é—­ #issue_number

## æµ‹è¯•è¯´æ˜
æè¿°å¦‚ä½•æµ‹è¯•è¿™äº›å˜æ›´

## æˆªå›¾
å¦‚æœé€‚ç”¨ï¼Œæ·»åŠ æˆªå›¾

## æ£€æŸ¥æ¸…å•
- [ ] ä»£ç é€šè¿‡ç±»å‹æ£€æŸ¥
- [ ] ä»£ç é€šè¿‡ lint æ£€æŸ¥
- [ ] ä»£ç é€šè¿‡æ„å»º
- [ ] å·²æ›´æ–°æ–‡æ¡£
```

---

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚æäº¤ä»£ç å³è¡¨ç¤ºæ‚¨åŒæ„ä»¥ç›¸åŒè®¸å¯è¯æˆæƒã€‚

---

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- åˆ›å»º [Issue](https://github.com/SpiritoXI/CrustShare/issues)
- å‘é€é‚®ä»¶è‡³é¡¹ç›®ç»´æŠ¤è€…

æ„Ÿè°¢æ‚¨çš„è´¡çŒ®ï¼ğŸ‰
